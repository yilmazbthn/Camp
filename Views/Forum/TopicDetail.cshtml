@model KampMVC.Models.TopicViewModel
@{
    Layout = "~/Views/Shared/_PortalLayout.cshtml"; 
}

<div class="container mt-4">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/forums">Forumlar</a></li>
            <li class="breadcrumb-item"><a href="/forums/forum/@Model.ForumSlug">@Model.ForumName</a></li>
            <li class="breadcrumb-item active" aria-current="page">@Model.Title</li>
        </ol>
    </nav>
    
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>@Model.Title</h2>
        <button class="btn btn-success"><i class="fas fa-reply"></i> Cevapla</button>
    </div>

    @foreach (var post in Model.Posts)
    {
        <div class="card mb-3 post-reply-card shadow-sm">
            <div class="card-body p-4">
                <div class="row">
                    <div class="col-md-3 text-center border-end">
                        <img src="@post.Author.AvatarUrl" class="rounded-circle mb-2" style="width: 80px; height: 80px; object-fit: cover;">
                        <h6 class="fw-bold">@post.Author.DisplayName</h6>
                        <span class="badge bg-info text-dark">@post.AuthorRole</span>
                        <small class="d-block text-muted mt-1">@post.TimeAgo</small>
                    </div>
                    
                    <div class="col-md-9">
                        <div class="post-content">
                            @Html.Raw(post.Content) 
                        </div>
                        <div class="mt-3 border-top pt-2">
                            <a href="#" class="text-primary small me-3"><i class="fas fa-thumbs-up"></i> Beğen</a>
                            <a href="#" class="text-primary small"><i class="fas fa-reply"></i> Alıntı Yap</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
    
    <div class="card mt-4 p-4 shadow-lg border-0">
        <h5>Yanıtınızı Ekleyin</h5>
        <form>
            <textarea class="form-control mb-3" rows="5" placeholder="Cevabınızı buraya yazın..."></textarea>
            <button type="submit" class="btn btn-success">Gönder</button>
        </form>
    </div>
</div>